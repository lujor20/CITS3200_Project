{% extends "base.html" %}

{% block head_content %}

<script>
  rsids = ["dummy"
    {% for rsid in rsids -%}
    ,"{{ rsid }}"
    {%- endfor %}
  ];
  rsids.shift();
</script>
<script src= {{ url_for('tool1.static', filename='visualise.js') }}></script>

<link rel="stylesheet" type="text/css" href={{ url_for('tool1.static', filename = "tool1_style.css") }}>
<style>
  {% for rsid, red, green, blue in colours -%}
  ._{{rsid}} {
    background-color: rgb({{red}}, {{green}}, {{blue}});
  }
  {%- endfor %}
</style>
<title>Visualise</title>
{% endblock %}

{% block body_content %}
<section>
  <p><b>Upload New File</b></p>
  <form method='POST' action='/visualise', enctype="multipart/form-data">
    {{ form.csrf_token }}
    {{ form.file.label }}
    {{ form.file() }}
    {% for error in form.file.errors%}
    <p>[{{ error }}]</p>
    {% endfor %}
    {{form.submit() }}
  </form>
</section>

<section onsubmit="bcolour_rsid()">
    <label for="rsid_color"> test</label>
    <input type="color" id="rsid_color" name='rsid_color' value='#ff0000'>
    <label for="select_rsid"> test</label>
    <select name = "select_rsid" id="select_rsid">

    </select>
    <button type="button" onclick="bcolour_rsid()">tester</button>
</section>

<section>
  <p> <b>Below will be the rendered document</b></p>
  <p>
    {% for rsid, text in packed %}
    <span class='_{{rsid}}' title='{{rsid}}'>{{text}}</span>
    {% endfor %}
  </p>
  
</section>

<script>
populate_select();
</script>
{% endblock %}